<header>
  <nav>
    <div class="logo" [routerLink]="['']">
      <span class="logo-text">LUXE</span>
      <span class="logo-tagline">Properties</span>
    </div>

    <!-- Desktop Menu -->
    <ul class="nav-desktop">
      <li><a [routerLink]="['/list']" routerLinkActive="active">Propiedades</a></li>
      <li><a [routerLink]="['/chat']" routerLinkActive="active">Chat</a></li>
      @if (user?.role === "AGENT" || user?.role === "ADMIN") {
        <li><a [routerLink]="['/create']" routerLinkActive="active">Publicar</a></li>
      }
      @if (loggedIn) {
      <!-- <li class="icon-item">
        <i class="fa-solid fa-bell campanita" [routerLink]="['/notifications']">
          <span class="notification-badge">3</span>
        </i>
      </li> -->
      <li class="icon-item">
        <i class="fa-solid fa-user profile" [routerLink]="['/profile']"></i>
      </li>

      <div class="nav-item dropdown">
        <i class="fa-solid fa-bell campanita" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <span class="notification-badge">3</span>
        </i>
        <ul class="dropdown-menu dropdown-menu-end p-2" style="width: 300px; height: 300px;">
          <!-- @if (notifications.length > 0) {
          @for (item of notifications; track $index) {
          <li class="d-flex justify-content-between gap-3 border-bottom mb-2 pb-1">
            <strong style="font-size: 14px;">{{ item.asunto | slice:0:10 }}...</strong>
            <small class="text-muted">{{ item.fechaEnvio | date }}</small>
            <button class="btn btn-danger" [routerLink]="['/notifications']">Ver</button>
          </li>
          }
          }
          @if (notifications.length <= 0) { <p>No hay notificaciones</p>
            } -->
        </ul>
      </div>
      }
      @if (!loggedIn) {
      <li><a [routerLink]="['/register']" routerLinkActive="active" class="btn-register">Registrarse</a></li>
      <li><a [routerLink]="['/login']" routerLinkActive="active" class="btn-login">Login</a></li>
      }
      @if (user?.role === "ADMIN") {
        <button class="btn btn-primary" [routerLink]="['/admin']">Configuracion</button>
      }
    </ul>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
      <i [class]="mobileMenuOpen ? 'fa-solid fa-times' : 'fa-solid fa-bars'"></i>
    </button>
  </nav>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.open]="mobileMenuOpen">
    <ul>
      <li><a [routerLink]="['/list']" (click)="closeMobileMenu()">Propiedades</a></li>
      <li><a [routerLink]="['/create']" (click)="closeMobileMenu()">Publicar</a></li>
      @if (loggedIn) {
      <li><a [routerLink]="['/notifications']" (click)="closeMobileMenu()">
          <i class="fa-solid fa-bell"></i> Notificaciones
        </a></li>
      <li><a [routerLink]="['/profile']" (click)="closeMobileMenu()">
          <i class="fa-solid fa-user"></i> Perfil
        </a></li>
      }
      @if (!loggedIn) {
      <li><a [routerLink]="['/register']" (click)="closeMobileMenu()" class="btn-register">Registrarse</a></li>
      <li><a [routerLink]="['/login']" (click)="closeMobileMenu()" class="btn-login">Login</a></li>
      }
    </ul>
  </div>
</header>

<router-outlet></router-outlet>

<footer id="contacto">
  <div class="footer-content">
    <div class="footer-section">
      <h3>LUXE Properties</h3>
      <p>Redefiniendo el estándar del mercado inmobiliario de lujo desde 1995</p>
      <div class="social-icons">
        <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
        <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
        <a href="#" aria-label="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
        <a href="#" aria-label="Twitter"><i class="fa-brands fa-twitter"></i></a>
      </div>
    </div>
    <div class="footer-section">
      <h3>Navegación</h3>
      <a href="#inicio">Inicio</a>
      <a href="#propiedades">Propiedades</a>
      <a href="#servicios">Servicios</a>
      <a href="#contacto">Contacto</a>
    </div>
    <div class="footer-section">
      <h3>Contacto</h3>
      <p><i class="fa-solid fa-phone"></i> +54 11 5555-8888</p>
      <p><i class="fa-solid fa-envelope"></i> infoluxeproperties.com</p>
      <p><i class="fa-solid fa-location-dot"></i> Av. Libertador 1234, CABA</p>
    </div>
    <div class="footer-section">
      <h3>Horarios</h3>
      <p>Lunes - Viernes: 9:00 - 19:00</p>
      <p>Sábados: 10:00 - 14:00</p>
      <p>Domingos: Cerrado</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>© 2025 LUXE Properties. Todos los derechos reservados.</p>
    <div class="footer-links">
      <a href="#">Términos y Condiciones</a>
      <span>|</span>
      <a href="#">Política de Privacidad</a>
    </div>
  </div>
</footer>